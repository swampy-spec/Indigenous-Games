<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cree Flying Beings Match Game</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Playfair Display', serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: #f4f4f2;
            color: #333333;
            text-align: center;
            padding: 2rem;
            box-sizing: border-box;
        }

        .game-container {
            padding: 3rem;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(5px);
            border: 3px solid #bdbdbd;
            border-radius: 2rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1), inset 0 0 10px rgba(255, 255, 255, 0.5);
            max-width: 1200px;
            width: 100%;
            margin-bottom: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        @media (max-width: 600px) {
            .game-container {
                padding: 1.5rem;
            }
        }

        h1 {
            font-family: 'Playfair Display', serif;
            color: #333333;
            font-size: clamp(1.8rem, 5vw, 2.8rem);
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            letter-spacing: 1px;
        }

        p {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: #555;
            margin-bottom: 2rem;
        }

        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
        }

        .drop-targets, .drag-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            width: 100%;
        }

        .game-item {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.25rem;
            height: 140px;
            flex-basis: 150px;
            flex-grow: 1;
            max-width: 180px;
            font-size: clamp(0.8rem, 2vw, 1.2rem);
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
            box-sizing: border-box;
            text-align: center;
            border-radius: 1.25rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            border: 3px solid #bdbdbd;
            word-break: break-word;
        }

        .drop-target {
            background-color: #f8f8f6;
            color: #333333;
            border: 3px dashed #bdbdbd;
        }
        
        .drag-item {
            background: linear-gradient(135deg, #e0f2f1, #c8e6c9);
            color: #333333;
        }

        .drag-item.dragging {
            opacity: 0;
        }

        .drag-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .drag-item:active {
            cursor: grabbing;
        }

        .drop-target.correct {
            background-color: #d1e7c9;
            border-color: #87C584;
            box-shadow: 0 0 20px rgba(135, 197, 132, 0.5);
            animation: bounceIn 0.6s forwards;
        }
        
        .drop-target.shake {
            animation: shake 0.5s;
        }

        .drag-item.correct {
            opacity: 0.5;
            cursor: default;
            box-shadow: none;
            pointer-events: none;
            animation: bounceOut 0.6s forwards;
        }
        
        .drag-item.tumble {
            animation: tumble 0.6s forwards;
        }
        
        .game-message {
            margin-top: 30px;
            font-size: 2rem;
            color: #87C584;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
            opacity: 0;
            transform: scale(0.5);
        }

        .game-item .asset {
            max-width: 60%;
            max-height: 60%;
            height: auto;
            margin-top: 5px;
        }
        
        #reset-button {
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            font-weight: bold;
            color: #333333;
            background: linear-gradient(135deg, #e0f2f1, #c8e6c9);
            border: 3px solid #bdbdbd;
            border-radius: 2rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        #reset-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        /* Animations */
        @keyframes fadeIn {
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes bounceIn {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); }
        }

        @keyframes bounceOut {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(0.8); opacity: 0.5; }
            100% { transform: scale(0.5); opacity: 0; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        @keyframes tumble {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            50% { transform: translateY(20px) rotate(180deg); opacity: 0.8; }
            100% { transform: translateY(0) rotate(360deg); opacity: 1; }
        }
    </style>
</head>
<body>

    <div class="game-container">
        <h1>Cree Flying Beings Match Game</h1>
        <p>Drag the Cree name to its English counterpart.</p>
        
        <div class="game-area">
            <div class="drop-targets">
                <!-- Drop targets will be populated by JavaScript -->
            </div>

            <div class="drag-items">
                <!-- Drag items will be populated by JavaScript -->
            </div>
        </div>
        
        <div class="game-message" id="win-message">You Win!</div>
        <button id="reset-button">Reset Game</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dragItemsContainer = document.querySelector('.drag-items');
            const dropTargetsContainer = document.querySelector('.drop-targets');
            const resetButton = document.getElementById('reset-button');
            const winMessage = document.getElementById('win-message');
            
            let correctMatches = 0;
            
            // Define the pairs of English and Cree words with their image assets
            const pairs = {
                'Blackbird': { cree: 'cahcahkâyow', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/Blackbird.svg' },
                'Thunderbird': { cree: 'pihêsiw', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/thunderbird.svg' },
                'Whisky Jack': { cree: 'wîskicâk', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/Whisky%20JAck.svg' },
                'Blue jay': { cree: 'kwîhkwîsiw', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/blue%20jay.svg' },
                'Crow': { cree: 'âhâsiw', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/Crow.svg' },
                'Duck': { cree: 'sîsîp', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/duck.svg' },
                'Eagle': { cree: 'kihew', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/eagle.svg' },
                'Goose': { cree: 'niska', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/goose.svg' },
                'Loon': { cree: 'mâkwa', asset: 'https://raw.githubusercontent.com/swampy-spec/gif/main/loon.svg' }
            };

            const totalMatches = Object.keys(pairs).length;
            
            // Fisher-Yates shuffle algorithm
            const shuffle = (array) => {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            };

            const createItems = () => {
                const animals = Object.keys(pairs);
                const creeWords = animals.map(animal => pairs[animal].cree);
                const shuffledWords = shuffle(creeWords);
                
                // Clear existing items
                dropTargetsContainer.innerHTML = '';
                dragItemsContainer.innerHTML = '';
                
                // Create drop targets (English names with images)
                animals.forEach(animal => {
                    const dropTarget = document.createElement('div');
                    dropTarget.classList.add('game-item', 'drop-target');
                    dropTarget.innerHTML = `<div>${animal}</div><img class="asset" src="${pairs[animal].asset}" alt="${animal}">`;
                    dropTarget.dataset.animal = animal;
                    dropTargetsContainer.appendChild(dropTarget);
                });

                // Create drag items (Cree words)
                shuffledWords.forEach(word => {
                    const dragItem = document.createElement('div');
                    dragItem.classList.add('game-item', 'drag-item');
                    dragItem.textContent = word;
                    dragItem.dataset.word = word;
                    dragItem.setAttribute('draggable', 'true');
                    dragItemsContainer.appendChild(dragItem);
                });
            };

            const addEventListeners = () => {
                const dragItems = document.querySelectorAll('.drag-item');
                const dropTargets = document.querySelectorAll('.drop-target');

                dragItems.forEach(item => {
                    item.addEventListener('dragstart', (e) => {
                        // Store the data of the dragged item
                        e.dataTransfer.setData('text/plain', item.dataset.word);
                        e.dataTransfer.effectAllowed = 'move';
                        // Add a class to hide the item during drag
                        setTimeout(() => {
                           e.target.classList.add('dragging');
                        }, 0);
                    });

                    item.addEventListener('dragend', (e) => {
                        // On drag end, remove the dragging class
                        e.target.classList.remove('dragging');
                    });
                });

                dropTargets.forEach(target => {
                    target.addEventListener('dragover', (e) => {
                        e.preventDefault();
                    });

                    target.addEventListener('drop', (e) => {
                        e.preventDefault();
                        const droppedWord = e.dataTransfer.getData('text/plain');
                        const targetAnimal = target.dataset.animal;
                        
                        const draggedItem = document.querySelector(`.drag-item[data-word="${droppedWord}"]`);

                        // Check if the drop is correct and the target isn't already filled
                        if (pairs[targetAnimal].cree === droppedWord && !target.classList.contains('correct')) {
                            e.dataTransfer.dropEffect = 'move';
                            target.classList.add('correct');
                            draggedItem.classList.add('correct');
                            draggedItem.style.order = Array.from(dropTargetsContainer.children).indexOf(target); // Align the drag item with the drop target
                            correctMatches++;
                            checkWinCondition();
                        } else {
                            // Incorrect drop, trigger shake animation
                            e.dataTransfer.dropEffect = 'none';
                            target.classList.add('shake');
                            setTimeout(() => {
                                target.classList.remove('shake');
                            }, 500);
                        }
                    });
                });
            };

            const checkWinCondition = () => {
                if (correctMatches === totalMatches) {
                    winMessage.style.opacity = '1';
                    winMessage.style.transform = 'scale(1)';
                }
            };

            const resetGame = () => {
                correctMatches = 0;
                winMessage.style.opacity = '0';
                winMessage.style.transform = 'scale(0.5)';
                createItems();
                addEventListeners();
            };
            
            // Initial setup
            createItems();
            addEventListeners();
            
            resetButton.addEventListener('click', resetGame);
        });
    </script>
</body>
</html>

